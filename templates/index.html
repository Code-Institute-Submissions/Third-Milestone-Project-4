{% extends 'base.html' %} {% block content %}

<!-- Welcome message -->
<div class="col-12">
	<div class="intro card">
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
		incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud
		exercitation
		ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in
		reprehenderit
		in
		voluptate velit esse cillum dolore eu fugiat nulla pariatur.
	</div>
</div>

{% for doc in docs %}
<div class="col-12 col-md-6 col-xl-4">
	<div class="card">
		<div class="card-header">
			<p class="movie-title">{{ doc.title }}</p>
			<button type="button" id="btn-trash-can" class="btn" data-toggle="modal" data-target="#modal-confirmation-delete" onclick="passTrailerId(this)" data-trailer-id="{{doc._id}}"><i data-feather="trash-2"></i></button>
			<button type="button" class="btn" onclick="loadEditModal(this)" data-trailer-id="{{doc._id}}" data-trailer-title="{{doc.title}}" data-trailer-url="{{doc.url}}" data-trailer-quote="{{doc.quote}}"><i data-feather="edit"></i></button>
		</div>
		<div class="ytb-video-wrapper">
			<iframe class="ytb-video" src="{{ doc.url }}" frameborder="0"
				allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
			</iframe>
		</div>
		<p>{{ doc.quote }}</p>
	</div>
</div>
{% endfor %}

<!-- Delete-confirmation modal -->
<div class="modal fade" id="modal-confirmation-delete" tabindex="-1" role="dialog" aria-labelledby="modal-confirmation-delete" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">Are you sure you want to delete this trailer from the database?</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
        <!-- The href attribute of #btn-delete is filled by passTrailerId() in script.js -->
        <a href="" id="btn-delete" class="btn btn-danger">Delete</a>
      </div>
    </div>
  </div>
</div>

<!-- Edit-trailer modal -->
		<div class="modal fade" id="modal-edit-trailer" tabindex="-1" role="dialog" aria-labelledby="modal_add_trailer"
			aria-hidden="true">
			<div class="modal-dialog modal-dialog-centered" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title">Modify Trailer</h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
					</div>
                    <!-- Il valore di action va scritto con passTrailerId con destinazione: update_trailer() -->
					<form action="" method="POST">
						<div class="modal-body">
							<div class="container">
								<input id="title" name="title" value="">
								<input id="url" name="url" value="">
								<input id="quote" name="quote" value="">
							</div>
						</div>
						<div class="modal-footer">
							<button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
							<button class="btn btn-primary" type="submit">Save</button>
                        </div>
					</form>
				</div>
			</div>
		</div>

{% endblock %}