{% extends 'base.html' %} {% block content %}

<!-- Welcome message -->
<div class="col col-12">
	<p class="intro card">
		Welcome to <strong>OpenTrailer</strong>, a community database of movie trailers,
		you are free to Add, Watch, Modify and Delete the trailers on this website.
		If you want to contribute just click on the "Add trailer" and insert
		the name of the movie, the <a href="static/images/how-to-url.gif" target="_blank">URL</a> of the trailer and (if you want) your favorite quote from the movie.<br>
		Enjoy!
	</p>
</div>

{% for trailer in trailers %}
<div class="col col-12 col-md-6 col-xl-4">
	<div class="card">
		<div class="card-header">
			<p class="card-title">{{ trailer.title }}</p>
			<button type="button" class="btn btn-card" onclick="loadEditModal(this)" data-trailer-id="{{trailer._id}}" data-trailer-title="{{trailer.title}}" data-trailer-url="{{trailer.url}}" data-trailer-quote="{{trailer.quote}}"><i data-feather="edit"></i></button>
			<button type="button" class="btn btn-card" onclick="loadDeleteModal(this)" data-trailer-id="{{trailer._id}}" data-trailer-title="{{trailer.title}}"><i data-feather="trash-2"></i></button>
		</div>
		<div class="card-video-wrapper">
			<iframe class="card-video" src="{{ trailer.url }}" frameborder="0"
				allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
			</iframe>
		</div>
		<p class="card-quote">{{ trailer.quote }}</p>
	</div>
</div>
{% endfor %}

<!-- Delete-trailer modal -->
<div class="modal fade" id="modal-delete-trailer" tabindex="-1" role="dialog" aria-labelledby="modal-delete-trailer"
	aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title">Are you sure you want to delete this trailer from the
					database?</h5>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-outline-secondary" data-dismiss="modal">Cancel</button>
				<a href="" id="btn-delete" class="btn btn-outline-danger">Delete</a>
			</div>
		</div>
	</div>
</div>

<!-- Add/Edit-trailer modal -->
<div class="modal fade" id="modal-add-edit-trailer" tabindex="-1" role="dialog" aria-labelledby="modal-add-edit-trailer"
	aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered" role="document">
		<div class="modal-content">
			<form action="" method="POST">
				<div class="modal-header">
					<h5 class="modal-title">Add a new Trailer</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
				</div>

				<div class="modal-body">
					<div class="container">
						<input id="title" name="title" placeholder="Movie title" required>
						<input id="url" name="url" placeholder="Youtube URL" required>
						<input id="quote" name="quote" placeholder="Favorite quote">
							</div>
					</div>
					<div class="modal-footer">
						<button class="btn btn-outline-secondary" type="button" data-dismiss="modal">Cancel</button>
						<button class="btn btn-outline-primary" type="submit">Save</button>
					</div>
			</form>
		</div>
	</div>
</div>

{% endblock %}